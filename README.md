# 🧾 Filesure ADT-1 Assignment

This project automates the extraction and summarization of information from Form ADT-1 PDFs, including their attachments. The workflow is designed to use OCR and LLMs to overcome common text-extraction limitations in scanned or poorly formatted PDFs.

---

## 📁 Project Structure

```
filesure-adt1-assignment/
│
├── data/
│   ├── attachments/               # Extracted PDF attachments (from the main ADT-1 PDF)
│   ├── processed/                 # Final structured output (e.g. JSON file)
│   ├── raw/  
├── .gitignore                    # Input PDF (Form ADT-1)
└── reports/                   # Markdown/text summaries generated by LLM
│   ├── attachment_file_summary.md
    ├── main_pdf_extraction_report.md
    ├── summary.txt

├── src/
│   ├── extractor.py               # Extracts structured data from the main ADT-1 PDF using OCR
│   ├── summary_generator.py       # Generates a human-readable summary from the extracted data
│   ├── attachment_parser.py       # Extracts embedded attachments from the main ADT-1 PDF
│   └── attachment_files_summary.py # Summarizes each extracted attachment using OpenAI
├── requirements.txt
├── README.md
│
└── .env                           # Your OpenAI API key (not shared)
```



---

## ⚙️ How It Works

### 1. **Extract Data from ADT-1 PDF**
**File:** `src/extractor.py`

- Initially tried using PyMuPDF (`fitz`) for structured text extraction.
- Found text order inconsistent and not regex-friendly.
- Switched to **OCR** (`pytesseract` + `pdf2image`) for cleaner output.
- Extracted data is saved in: `data/processed/output.json`

---

### 2. **Generate Summary for ADT-1 Form**
**File:** `src/summary_generator.py`

- Loads data from `data/processed/output.json`.
- Sends extracted data to **OpenAI GPT-4o** to generate a readable, professional summary.
- Summary saved in: `data/reports/summary.txt`

---

### 3. **Extract Attachments from Main PDF**
**File:** `src/attachment_parser.py`

- Scans the original ADT-1 PDF for embedded files.
- Automatically saves each attachment to: `data/attachments/`

---

### 4. **Generate Summary for Each Attachment**
**File:** `src/attachment_files_summary.py`

- Reads each file from `data/attachments/`
- Converts each PDF to text via OCR and sends the content to OpenAI.
- Summaries are saved in: `data/reports/attachment_file_summary.md`

---

## 🛠 How to Run the Project

### 🔹 Step 1: Set Up Environment
Install the required packages:
```bash
pip install -r requirements.txt
```

🔹 Step 2: Add Your OpenAI API Key
Create a .env file in the root directory:
```bash
OPENAI_API_KEY=sk-proj-xxxxxxxxxxxxxxxxxxxxxxxxxxxx
```

🔹 Step 3: Run the Pipeline
```bash
# Extract text and structured data from ADT-1 form
python src/extractor.py

# Generate summary from extracted data
python src/summary_generator.py

# Extract all embedded PDF attachments
python src/attachment_parser.py

# Generate summaries for all extracted attachments
python src/attachment_files_summary.py
```

📌 Output Files
- data/processed/output.json – structured extracted data

- data/reports/main_pdf_extraction_report.md – summary of why OCR better than pyMupdf package

- data/reports/attachment_file_summary.md – summaries for all attached PDFs

### 📎 Notes
OCR improves accuracy for scanned or image-based PDFs.

Summaries are LLM-generated, helpful for legal/financial review.

This project is designed to be modular and easy to maintain.